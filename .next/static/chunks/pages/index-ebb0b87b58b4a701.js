(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(1296)}])},1296:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var n=a(5893),s=a(7294),r=a(1341),i=a(9008),o=a.n(i);let c="AIzaSyDHXvELUQOHvToj9cGDTWQeuUFsncBro4c";function l(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(""),[l,d]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1),D=(0,s.useRef)(null);(0,s.useEffect)(()=>{t([{id:1,text:"\uD83D\uDC4B Ol\xe1! Sou o assistente da Maklen para cobran\xe7a call center. Digite sua pergunta sobre cobran\xe7a ou 'admin ativar' para perguntas gerais.",sender:"bot",timestamp:new Date}])},[]);let m=async e=>{try{if(!c)throw Error("API Key n\xe3o configurada");let t=new r.$D(c).getGenerativeModel({model:"gemini-pro"}),a=await t.generateContent(u?"Responda qualquer pergunta de forma completa: ".concat(e):"Voc\xea \xe9 especialista em cobran\xe7a call center. Responda apenas sobre cobran\xe7a, negocia\xe7\xe3o e call center: ".concat(e));return(await a.response).text()}catch(e){return"Erro na conex\xe3o com IA. Tente novamente."}},p=async()=>{if(!a.trim())return;if(a.toLowerCase().includes("admin ativar")){x(!0),t(e=>[...e,{id:Date.now(),text:a,sender:"user",timestamp:new Date},{id:Date.now()+1,text:"\uD83D\uDD13 MODO ADM ATIVADO! Agora respondo qualquer pergunta.",sender:"bot",timestamp:new Date}]),i("");return}if(a.toLowerCase().includes("admin desativar")){x(!1),t(e=>[...e,{id:Date.now(),text:a,sender:"user",timestamp:new Date},{id:Date.now()+1,text:"\uD83D\uDD12 MODO ADM DESATIVADO! Agora s\xf3 respondo sobre cobran\xe7a.",sender:"bot",timestamp:new Date}]),i("");return}t(e=>[...e,{id:Date.now(),text:a,sender:"user",timestamp:new Date}]),d(!0);let e=await m(a);t(t=>[...t,{id:Date.now(),text:e,sender:"bot",timestamp:new Date}]),i(""),d(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Maklen Chat Bot"}),(0,n.jsx)("script",{src:"https://cdn.tailwindcss.com"})]}),(0,n.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl h-[600px] flex flex-col",children:[(0,n.jsxs)("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg",children:[(0,n.jsx)("h1",{className:"text-xl font-bold",children:"Maklen Chat Bot"}),(0,n.jsx)("div",{className:"text-sm ".concat(u?"text-green-200":"text-red-200"),children:u?"\uD83D\uDD13 MODO ADM: ON":"\uD83D\uDD12 MODO ADM: OFF"})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(e=>(0,n.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,n.jsx)("div",{className:"max-w-[80%] p-3 rounded-lg ".concat("user"===e.sender?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"),children:e.text})},e.id)),l&&(0,n.jsx)("div",{className:"text-center",children:"Carregando..."}),(0,n.jsx)("div",{ref:D})]}),(0,n.jsx)("div",{className:"p-4 border-t",children:(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("input",{value:a,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&p(),placeholder:"Digite sua pergunta...",className:"flex-1 border rounded-lg p-3"}),(0,n.jsx)("button",{onClick:p,className:"bg-blue-500 text-white px-4 py-3 rounded-lg",children:"Enviar"})]})})]})})]})}}},function(e){e.O(0,[747,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);